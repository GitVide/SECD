# 相机特效概要设计

## 一、引言

### 1.编写的目的

本阶段完成系统的大致设计并明确系统的数据结构与软件结构。本概要设计说明书的目的就是进一步细化软件设计阶段得出的软件概貌，把它加工成在程序细节上非常接近与源程序开发的软件表示。 根据需求分析说明书编写了本概要设计，以作为详细设计及系统实现的依据。本文主要阅读对象为相关技术人员和项目责任人。 

### 2.定义

#### 在该概要设计说明书中的专门术语有：



### 参考资料

## 二、任务概述

### 1.系统功能

####  1.1概述

通过设计一款基于windows的exe应用程序，可以帮助用户，在PC端对自己的图片进行美化，滤镜，磨皮，添加贴纸等操作。同时也支持用户打开电脑的摄像头，从而进行实时处理。另外，我们还为照片添加了有趣的换脸功能，用户可以将一张照片上的人脸换为另外一张人脸，同时也支持在视频上进行换脸。本项目仅仅是为了练习和熟悉软件工程的一般过程，而建立的一个有趣的项目。本项目不为盈利，不会发布到市面上进行使用。

本产品适用于任何有对图片进行处理，美容，添加特效等需求的人。并且任何需要进行简单的换脸功用户都可以使用。总得来说，用户应该对美化图片或者操作图片具有较强的欲望。

#### 1.2主要功能

- 给图片或者视频中的人物进行磨皮，美白，祛痘除斑.用户可以选择磨皮的程度，美白的程度，祛痘除斑针对图片时，需要用鼠标点击斑点的位置，针对于视频时，仅仅进行粗略的祛斑。

- 检测图片或视频中的人脸，对人脸进行跟踪,返回其人脸框坐标及关键点坐标.该项功能为其他功能依赖，当然用户也可以点击仅开启检测人脸。

- 给图片添加相应的滤镜，如黑白，阳光，鲜艳等等。

- 将图片中的人脸更换为另一张照片中的人脸。用户需要传入两张照片，一张源图片，一张目的图片，并且用户要保证两张两张图片中都有且仅有一张人脸。

- 给视频中的人脸，添加相应的贴纸，如兔耳朵等。

- 对当前视频进行截图

- 一个简洁的GUI界面，供用户使用

### 2.运行时环境

本产产品是基于windows进行设计的，只能运行在windows端，是一个windows的桌面应用。只要用户拥有windows版的操作系统，就可以使用本应用。用户甚至不需要连接网络，便可以使用。

### 3.开发工具

PyCharm

### 4.条件与限制

 #### 本项目产品具有以下的约束

- 时间约束: 本产品需要于2019年11月26日之前，完成所有编码与测试。本项目需要于2019年12月10日之前，完成相关文档及内容的编写，并可进行展示。
- 预算约束: 本产品无预算消耗，故无预算约束。

+ 技术约束：本产品是要运行与windows端的桌面exe应用程序。并且是基于OpenCV4.0 + python 3.7 编写的，并且会用到相关的人脸识别和检测的相关类库。
+ 人员约束: 本项目仅有两位开发人员。两位开发人员拥有其他项目开发的经验，但是没有图像处理以及人脸识别的开发经验。
+ 组织约束: 本项目的开发要在指导老师李毅的指导下进行，相关功能可能会进行更改或者删除，添加。
+ 算法约束: 本项目实现的算法必然是基于网上的人脸检测开源库而实现的，算法精度和效果不能十分完美，会有瑕疵。
+ 人脸图片约束: 本项目的实现效果不会太完美。所以要求进行测试的人脸图片具有良好的光照以及清晰的效果，便于识别。另外，针对于换脸功能时，相应传入的两张照片中，各有且仅有一张人脸



## 总体设计

### 1.总体架构

#### 系统总体架构图

![系统架构](resources/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84.jpg)

设计简洁美观的UI界面，以便达到良好的用户体验；

使用数据存储用户数据，实现用户登录功能；

调用API实现处理效果。

## 算法描述

 https://cloud.tencent.com/developer/article/1348532 